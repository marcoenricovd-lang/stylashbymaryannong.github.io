{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Marco/OneDrive/Desktop/test/stylash/lib/services.ts"],"sourcesContent":["import { Service, ServiceCategory } from './types';\r\n\r\n// Booking fees by category (in PHP)\r\nexport const BOOKING_FEES: Record<ServiceCategory, number> = {\r\n  lashes: 200,\r\n  nails: 200,\r\n  brows: 500,\r\n  training: 1000,\r\n  hair: 500,\r\n  underarm: 200,\r\n  airlashes: 200,\r\n};\r\n\r\n// Get booking fee for a service\r\nexport function getBookingFee(category: ServiceCategory): number {\r\n  return BOOKING_FEES[category] || 200;\r\n}\r\n\r\n// Services organized by category\r\nexport const SERVICES: Service[] = [\r\n  // LASHES & BROW SERVICES\r\n  {\r\n    id: 'eyelash-extensions',\r\n    name: 'Eyelash Extensions',\r\n    category: 'lashes',\r\n    price: '450-600',\r\n    duration: null,\r\n    icon: 'ðŸ‘ï¸',\r\n    description: 'Premium lash extensions customized to enhance your natural eye shape',\r\n  },\r\n  {\r\n    id: 'lashlift-tint',\r\n    name: 'Lashlift with tint',\r\n    category: 'lashes',\r\n    price: 450,\r\n    duration: null,\r\n    icon: 'ðŸ‘ï¸',\r\n    description: 'Lift and tint your natural lashes for a beautiful, low-maintenance look',\r\n  },\r\n  {\r\n    id: 'lash-extensions-removal',\r\n    name: 'Lash Extensions Removal',\r\n    category: 'lashes',\r\n    price: '100-150',\r\n    duration: null,\r\n    icon: 'âœ‚ï¸',\r\n    description: 'Safe and gentle removal of existing lash extensions',\r\n  },\r\n  {\r\n    id: 'brow-lamination',\r\n    name: 'Brow Lamination with tint',\r\n    category: 'brows',\r\n    price: 600,\r\n    duration: null,\r\n    icon: 'âœ¨',\r\n    description: 'Achieve perfectly groomed, fuller-looking brows',\r\n  },\r\n  {\r\n    id: 'microblading',\r\n    name: 'Microblading',\r\n    category: 'brows',\r\n    price: 3000,\r\n    duration: null,\r\n    icon: 'âœï¸',\r\n    description: 'Semi-permanent eyebrow tattoo for natural-looking brows',\r\n  },\r\n  {\r\n    id: 'shading',\r\n    name: 'Shading',\r\n    category: 'brows',\r\n    price: 3500,\r\n    duration: null,\r\n    icon: 'ðŸŽ¨',\r\n    description: 'Powder brow technique for soft, shaded look',\r\n  },\r\n  {\r\n    id: 'combrows',\r\n    name: 'Combrows (All 2 Sessions + Free after care cream)',\r\n    category: 'brows',\r\n    price: 4000,\r\n    duration: null,\r\n    icon: 'ðŸ‘ï¸',\r\n    description: 'Complete brow transformation with 2 sessions and aftercare included',\r\n  },\r\n  \r\n  // NEW AIRLASHES\r\n  {\r\n    id: 'airlashes-natural',\r\n    name: 'Natural Extensions',\r\n    category: 'airlashes',\r\n    price: 600,\r\n    duration: null,\r\n    icon: 'ðŸŒ¸',\r\n    description: 'Natural-looking airlash extensions',\r\n  },\r\n  {\r\n    id: 'airlashes-volume',\r\n    name: 'Volume Extensions',\r\n    category: 'airlashes',\r\n    price: 700,\r\n    duration: null,\r\n    icon: 'ðŸ’«',\r\n    description: 'Volume airlash extensions for fuller look',\r\n  },\r\n  {\r\n    id: 'airlashes-mega',\r\n    name: 'Mega Extensions',\r\n    category: 'airlashes',\r\n    price: 800,\r\n    duration: null,\r\n    icon: 'â­',\r\n    description: 'Mega volume airlash extensions for dramatic effect',\r\n  },\r\n  {\r\n    id: 'airlashes-retouch',\r\n    name: 'Retouch',\r\n    category: 'airlashes',\r\n    price: '350-400',\r\n    duration: null,\r\n    icon: 'âœ¨',\r\n    description: 'Maintenance retouch for airlash extensions',\r\n  },\r\n  \r\n  // NAILS SERVICES\r\n  {\r\n    id: 'manegel',\r\n    name: 'Manegel',\r\n    category: 'nails',\r\n    price: 450,\r\n    duration: null,\r\n    icon: 'ðŸ’…',\r\n    description: 'Gel manicure for long-lasting, beautiful nails',\r\n  },\r\n  {\r\n    id: 'pedegel',\r\n    name: 'Pedegel',\r\n    category: 'nails',\r\n    price: 480,\r\n    duration: null,\r\n    icon: 'ðŸ¦¶',\r\n    description: 'Gel pedicure for gorgeous toenails',\r\n  },\r\n  {\r\n    id: 'softgel-extensions',\r\n    name: 'Softgel Extensions',\r\n    category: 'nails',\r\n    price: 600,\r\n    duration: null,\r\n    icon: 'ðŸ’…',\r\n    description: 'Soft gel nail extensions',\r\n  },\r\n  {\r\n    id: 'poly-acrylic-extensions',\r\n    name: 'Poly/Acrylic Extensions',\r\n    category: 'nails',\r\n    price: 800,\r\n    duration: null,\r\n    icon: 'ðŸ’Ž',\r\n    description: 'Polygel or acrylic nail extensions',\r\n  },\r\n  {\r\n    id: 'nail-extensions-removal',\r\n    name: 'Nail Extensions Removal',\r\n    category: 'nails',\r\n    price: '100-150',\r\n    duration: null,\r\n    icon: 'âœ‚ï¸',\r\n    description: 'Safe removal of nail extensions',\r\n  },\r\n  {\r\n    id: 'additional-gems',\r\n    name: 'Additional Gems & Stones',\r\n    category: 'nails',\r\n    price: '10-100',\r\n    duration: null,\r\n    icon: 'ðŸ’Ž',\r\n    description: 'Add beautiful gems and stones to your nail design',\r\n  },\r\n  \r\n  // HAIR SERVICES\r\n  {\r\n    id: 'hair-color-short',\r\n    name: 'HAIR COLOR - Short Length',\r\n    category: 'hair',\r\n    price: 600,\r\n    duration: null,\r\n    icon: 'ðŸ’‡',\r\n    description: 'Full hair color service for short hair',\r\n    notes: 'FREE TRIM!!',\r\n  },\r\n  {\r\n    id: 'hair-color-shoulder',\r\n    name: 'HAIR COLOR - Shoulder Length',\r\n    category: 'hair',\r\n    price: 800,\r\n    duration: null,\r\n    icon: 'ðŸ’‡',\r\n    description: 'Full hair color service for shoulder-length hair',\r\n    notes: 'FREE TRIM!!',\r\n  },\r\n  {\r\n    id: 'hair-color-long',\r\n    name: 'HAIR COLOR - Long Hair Length',\r\n    category: 'hair',\r\n    price: 1000,\r\n    duration: null,\r\n    icon: 'ðŸ’‡',\r\n    description: 'Full hair color service for long hair',\r\n    notes: 'FREE TRIM!!',\r\n  },\r\n  {\r\n    id: 'brazilian-botox-short',\r\n    name: 'BRAZILIAN BOTOX COLLAGEN - Short Length',\r\n    category: 'hair',\r\n    price: 800,\r\n    duration: null,\r\n    icon: 'âœ¨',\r\n    description: 'Brazilian botox collagen treatment for short hair',\r\n  },\r\n  {\r\n    id: 'brazilian-botox-shoulder',\r\n    name: 'BRAZILIAN BOTOX COLLAGEN - Shoulder Length',\r\n    category: 'hair',\r\n    price: 1000,\r\n    duration: null,\r\n    icon: 'âœ¨',\r\n    description: 'Brazilian botox collagen treatment for shoulder-length hair',\r\n  },\r\n  {\r\n    id: 'brazilian-botox-long',\r\n    name: 'BRAZILIAN BOTOX COLLAGEN - Long Hair Length',\r\n    category: 'hair',\r\n    price: 1500,\r\n    duration: null,\r\n    icon: 'âœ¨',\r\n    description: 'Brazilian botox collagen treatment for long hair',\r\n  },\r\n  \r\n  // UNDERARM SERVICES\r\n  {\r\n    id: 'ipl-per-session',\r\n    name: 'IPL per Session',\r\n    category: 'underarm',\r\n    price: 150,\r\n    duration: null,\r\n    icon: 'âœ¨',\r\n    description: 'IPL hair removal per session',\r\n  },\r\n  {\r\n    id: 'ipl-12-plus-1',\r\n    name: 'IPL 12+1 Session',\r\n    category: 'underarm',\r\n    price: 1000,\r\n    duration: null,\r\n    icon: 'âœ¨',\r\n    description: 'IPL hair removal package (12+1 sessions)',\r\n  },\r\n  {\r\n    id: 'underarm-waxing',\r\n    name: 'Underarm Waxing',\r\n    category: 'underarm',\r\n    price: 180,\r\n    duration: null,\r\n    icon: 'ðŸŒ¸',\r\n    description: 'Professional underarm waxing service',\r\n  },\r\n];\r\n\r\n// Get service by ID\r\nexport function getServiceById(id: string): Service | undefined {\r\n  return SERVICES.find(s => s.id === id);\r\n}\r\n\r\n// Get services by category\r\nexport function getServicesByCategory(category: ServiceCategory): Service[] {\r\n  return SERVICES.filter(s => s.category === category);\r\n}\r\n\r\n// Format price for display\r\nexport function formatPrice(price: number | string): string {\r\n  if (typeof price === 'string') {\r\n    return `â‚±${price}`;\r\n  }\r\n  return `â‚±${price.toLocaleString()}`;\r\n}\r\n\r\n// Get numeric price (for calculations, uses minimum if range)\r\nexport function getNumericPrice(price: number | string): number {\r\n  if (typeof price === 'number') return price;\r\n  // If it's a range like \"450-600\", return the first number\r\n  const match = price.match(/^(\\d+)/);\r\n  return match ? parseInt(match[1], 10) : 0;\r\n}\r\n\r\n// Group services by category for display\r\nexport const SERVICE_CATEGORIES: { id: ServiceCategory; name: string; description?: string }[] = [\r\n  { id: 'lashes', name: 'Lashes & Brow Services' },\r\n  { id: 'airlashes', name: 'New Airlashes' },\r\n  { id: 'nails', name: 'Nails Services' },\r\n  { id: 'hair', name: 'Hair Services' },\r\n  { id: 'underarm', name: 'Underarm Services' },\r\n];"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAGO,MAAM,eAAgD;IAC3D,QAAQ;IACR,OAAO;IACP,OAAO;IACP,UAAU;IACV,MAAM;IACN,UAAU;IACV,WAAW;AACb;AAGO,SAAS,cAAc,QAAyB;IACrD,OAAO,YAAY,CAAC,SAAS,IAAI;AACnC;AAGO,MAAM,WAAsB;IACjC,yBAAyB;IACzB;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,OAAO;QACP,UAAU;QACV,MAAM;QACN,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,OAAO;QACP,UAAU;QACV,MAAM;QACN,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,OAAO;QACP,UAAU;QACV,MAAM;QACN,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,OAAO;QACP,UAAU;QACV,MAAM;QACN,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,OAAO;QACP,UAAU;QACV,MAAM;QACN,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,OAAO;QACP,UAAU;QACV,MAAM;QACN,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,OAAO;QACP,UAAU;QACV,MAAM;QACN,aAAa;IACf;IAEA,gBAAgB;IAChB;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,OAAO;QACP,UAAU;QACV,MAAM;QACN,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,OAAO;QACP,UAAU;QACV,MAAM;QACN,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,OAAO;QACP,UAAU;QACV,MAAM;QACN,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,OAAO;QACP,UAAU;QACV,MAAM;QACN,aAAa;IACf;IAEA,iBAAiB;IACjB;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,OAAO;QACP,UAAU;QACV,MAAM;QACN,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,OAAO;QACP,UAAU;QACV,MAAM;QACN,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,OAAO;QACP,UAAU;QACV,MAAM;QACN,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,OAAO;QACP,UAAU;QACV,MAAM;QACN,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,OAAO;QACP,UAAU;QACV,MAAM;QACN,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,OAAO;QACP,UAAU;QACV,MAAM;QACN,aAAa;IACf;IAEA,gBAAgB;IAChB;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,OAAO;QACP,UAAU;QACV,MAAM;QACN,aAAa;QACb,OAAO;IACT;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,OAAO;QACP,UAAU;QACV,MAAM;QACN,aAAa;QACb,OAAO;IACT;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,OAAO;QACP,UAAU;QACV,MAAM;QACN,aAAa;QACb,OAAO;IACT;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,OAAO;QACP,UAAU;QACV,MAAM;QACN,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,OAAO;QACP,UAAU;QACV,MAAM;QACN,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,OAAO;QACP,UAAU;QACV,MAAM;QACN,aAAa;IACf;IAEA,oBAAoB;IACpB;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,OAAO;QACP,UAAU;QACV,MAAM;QACN,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,OAAO;QACP,UAAU;QACV,MAAM;QACN,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,OAAO;QACP,UAAU;QACV,MAAM;QACN,aAAa;IACf;CACD;AAGM,SAAS,eAAe,EAAU;IACvC,OAAO,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;AACrC;AAGO,SAAS,sBAAsB,QAAyB;IAC7D,OAAO,SAAS,MAAM,CAAC,CAAA,IAAK,EAAE,QAAQ,KAAK;AAC7C;AAGO,SAAS,YAAY,KAAsB;IAChD,IAAI,OAAO,UAAU,UAAU;QAC7B,OAAO,CAAC,CAAC,EAAE,OAAO;IACpB;IACA,OAAO,CAAC,CAAC,EAAE,MAAM,cAAc,IAAI;AACrC;AAGO,SAAS,gBAAgB,KAAsB;IACpD,IAAI,OAAO,UAAU,UAAU,OAAO;IACtC,0DAA0D;IAC1D,MAAM,QAAQ,MAAM,KAAK,CAAC;IAC1B,OAAO,QAAQ,SAAS,KAAK,CAAC,EAAE,EAAE,MAAM;AAC1C;AAGO,MAAM,qBAAoF;IAC/F;QAAE,IAAI;QAAU,MAAM;IAAyB;IAC/C;QAAE,IAAI;QAAa,MAAM;IAAgB;IACzC;QAAE,IAAI;QAAS,MAAM;IAAiB;IACtC;QAAE,IAAI;QAAQ,MAAM;IAAgB;IACpC;QAAE,IAAI;QAAY,MAAM;IAAoB;CAC7C"}},
    {"offset": {"line": 322, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Marco/OneDrive/Desktop/test/stylash/lib/bookings.ts"],"sourcesContent":["import { Booking, BookingStatus, PaymentStatus, OverbookReason, OverbookResolution, AvailabilitySettings, OverbookingSettings } from './types';\r\nimport { getServiceById, getNumericPrice, getBookingFee } from './services';\r\nimport { logAdminAction } from './auth';\r\n\r\nconst BOOKINGS_KEY = 'stylash_bookings';\r\nconst AVAILABILITY_KEY = 'stylash_availability';\r\nconst OVERBOOKING_KEY = 'stylash_overbooking';\r\n\r\n// Default time slots\r\nexport const DEFAULT_TIME_SLOTS = [\r\n  '09:00', '09:30', '10:00', '10:30', '11:00', '11:30',\r\n  '12:00', '12:30', '13:00', '13:30', '14:00', '14:30',\r\n  '15:00', '15:30', '16:00', '16:30', '17:00', '17:30', '18:00'\r\n];\r\n\r\n// Default availability settings\r\nexport const DEFAULT_AVAILABILITY: AvailabilitySettings = {\r\n  workingHours: [\r\n    { day: 0, isOpen: false, openTime: '09:00', closeTime: '17:00' }, // Sunday - closed\r\n    { day: 1, isOpen: true, openTime: '09:00', closeTime: '18:00' }, // Monday\r\n    { day: 2, isOpen: true, openTime: '09:00', closeTime: '18:00' }, // Tuesday\r\n    { day: 3, isOpen: true, openTime: '09:00', closeTime: '18:00' }, // Wednesday\r\n    { day: 4, isOpen: true, openTime: '09:00', closeTime: '18:00' }, // Thursday\r\n    { day: 5, isOpen: true, openTime: '09:00', closeTime: '18:00' }, // Friday\r\n    { day: 6, isOpen: true, openTime: '09:00', closeTime: '18:00' }, // Saturday\r\n  ],\r\n  blockedDates: [],\r\n  dateSpecificSlots: [], // Custom time slots for specific dates\r\n  leadTimeDays: 1, // No same-day bookings\r\n  maxBookingsPerSlot: 1,\r\n  bufferTimeMinutes: 0,\r\n  maxAdvanceBookingDays: 0, // 0 = unlimited (default)\r\n};\r\n\r\n// Default overbooking settings\r\nexport const DEFAULT_OVERBOOKING: OverbookingSettings = {\r\n  enabled: true,\r\n  maxOverbookedPerDay: 2,\r\n  maxOverbookedPerSlot: 1,\r\n  requireReason: true,\r\n};\r\n\r\n// Get all bookings\r\nexport function getAllBookings(): Booking[] {\r\n  if (typeof window === 'undefined') return [];\r\n  const stored = localStorage.getItem(BOOKINGS_KEY);\r\n  return stored ? JSON.parse(stored) : [];\r\n}\r\n\r\n// Get bookings by date\r\nexport function getBookingsByDate(date: string): Booking[] {\r\n  return getAllBookings().filter(b => b.date === date);\r\n}\r\n\r\n// Get bookings by status\r\nexport function getBookingsByStatus(status: BookingStatus): Booking[] {\r\n  return getAllBookings().filter(b => b.status === status);\r\n}\r\n\r\n// Get booking by ID\r\nexport function getBookingById(id: string): Booking | undefined {\r\n  return getAllBookings().find(b => b.id === id);\r\n}\r\n\r\n// Get booked time slots for a date\r\nexport function getBookedSlots(date: string): string[] {\r\n  return getBookingsByDate(date)\r\n    .filter(b => ['pending_payment', 'awaiting_verification', 'confirmed'].includes(b.status))\r\n    .map(b => b.timeSlot);\r\n}\r\n\r\n// Get available time slots for a date\r\nexport function getAvailableTimeSlots(date: string): string[] {\r\n  const availability = getAvailabilitySettings();\r\n  \r\n  // Check if date has specific slots defined\r\n  const dateSpecific = availability.dateSpecificSlots.find(s => s.date === date);\r\n  if (dateSpecific) {\r\n    if (dateSpecific.isFullyBooked) return [];\r\n    return dateSpecific.timeSlots;\r\n  }\r\n  \r\n  // Check if date is blocked\r\n  if (availability.blockedDates.includes(date)) {\r\n    return [];\r\n  }\r\n  \r\n  // Check working hours\r\n  const dateObj = new Date(date);\r\n  const dayOfWeek = dateObj.getDay();\r\n  const workingDay = availability.workingHours.find(w => w.day === dayOfWeek);\r\n  \r\n  if (!workingDay || !workingDay.isOpen) {\r\n    return [];\r\n  }\r\n  \r\n  // Generate slots from working hours\r\n  const slots: string[] = [];\r\n  const startHour = parseInt(workingDay.openTime.split(':')[0]);\r\n  const startMin = parseInt(workingDay.openTime.split(':')[1]);\r\n  const endHour = parseInt(workingDay.closeTime.split(':')[0]);\r\n  const endMin = parseInt(workingDay.closeTime.split(':')[1]);\r\n  \r\n  let currentHour = startHour;\r\n  let currentMin = startMin;\r\n  \r\n  while (currentHour < endHour || (currentHour === endHour && currentMin < endMin)) {\r\n    const timeStr = `${currentHour.toString().padStart(2, '0')}:${currentMin.toString().padStart(2, '0')}`;\r\n    slots.push(timeStr);\r\n    \r\n    currentMin += 30;\r\n    if (currentMin >= 60) {\r\n      currentMin = 0;\r\n      currentHour++;\r\n    }\r\n  }\r\n  \r\n  return slots;\r\n}\r\n\r\n// Check if a time slot is available\r\nexport function isSlotAvailable(date: string, timeSlot: string): boolean {\r\n  const availability = getAvailabilitySettings();\r\n  const bookings = getBookingsByDate(date);\r\n  \r\n  // Check lead time\r\n  const today = new Date();\r\n  today.setHours(0, 0, 0, 0);\r\n  const bookingDate = new Date(date);\r\n  const daysDiff = Math.ceil((bookingDate.getTime() - today.getTime()) / (1000 * 60 * 60 * 24));\r\n  \r\n  if (daysDiff < availability.leadTimeDays) {\r\n    return false;\r\n  }\r\n  \r\n  // Check maximum advance booking limit\r\n  if (availability.maxAdvanceBookingDays > 0 && daysDiff > availability.maxAdvanceBookingDays) {\r\n    return false;\r\n  }\r\n  \r\n  // Get available slots for this date\r\n  const availableSlots = getAvailableTimeSlots(date);\r\n  \r\n  // Check if this time slot is in the available list\r\n  if (!availableSlots.includes(timeSlot)) {\r\n    return false;\r\n  }\r\n  \r\n  // Check if there's already a booking for this slot (ONLY 1 booking per slot allowed)\r\n  const existingBooking = bookings.find(\r\n    b => b.timeSlot === timeSlot && \r\n    ['pending_payment', 'awaiting_verification', 'confirmed'].includes(b.status)\r\n  );\r\n  \r\n  // Return false if ANY booking exists for this slot\r\n  return !existingBooking;\r\n}\r\n\r\n// Set custom time slots for a specific date\r\nexport function setDateSpecificSlots(date: string, timeSlots: string[], note?: string): void {\r\n  const availability = getAvailabilitySettings();\r\n  \r\n  const existingIndex = availability.dateSpecificSlots.findIndex(s => s.date === date);\r\n  const newSlot: import('./types').DateSpecificSlot = {\r\n    date,\r\n    timeSlots,\r\n    note,\r\n    isFullyBooked: false,\r\n  };\r\n  \r\n  if (existingIndex >= 0) {\r\n    availability.dateSpecificSlots[existingIndex] = newSlot;\r\n  } else {\r\n    availability.dateSpecificSlots.push(newSlot);\r\n  }\r\n  \r\n  updateAvailabilitySettings(availability);\r\n  logAdminAction('SET_DATE_SLOTS', { date, timeSlots, note });\r\n}\r\n\r\n// Remove custom time slots for a date\r\nexport function removeDateSpecificSlots(date: string): void {\r\n  const availability = getAvailabilitySettings();\r\n  availability.dateSpecificSlots = availability.dateSpecificSlots.filter(s => s.date !== date);\r\n  updateAvailabilitySettings(availability);\r\n  logAdminAction('REMOVE_DATE_SLOTS', { date });\r\n}\r\n\r\n// Mark a date as fully booked (but keep it visible)\r\nexport function markDateFullyBooked(date: string, note?: string): void {\r\n  const availability = getAvailabilitySettings();\r\n  \r\n  const existingIndex = availability.dateSpecificSlots.findIndex(s => s.date === date);\r\n  const newSlot: import('./types').DateSpecificSlot = {\r\n    date,\r\n    timeSlots: [],\r\n    isFullyBooked: true,\r\n    note: note || 'Fully booked',\r\n  };\r\n  \r\n  if (existingIndex >= 0) {\r\n    availability.dateSpecificSlots[existingIndex] = newSlot;\r\n  } else {\r\n    availability.dateSpecificSlots.push(newSlot);\r\n  }\r\n  \r\n  updateAvailabilitySettings(availability);\r\n  logAdminAction('MARK_FULLY_BOOKED', { date, note });\r\n}\r\n\r\n// Create a new booking\r\nexport function createBooking(data: {\r\n  date: string;\r\n  timeSlot: string;\r\n  serviceId: string;\r\n  customerName: string;\r\n  customerEmail: string;\r\n  customerPhone: string;\r\n  notes?: string;\r\n  paymentMethod: 'gcash' | 'maya' | 'bank_transfer';\r\n}): Booking | null {\r\n  if (typeof window === 'undefined') return null;\r\n  \r\n  const service = getServiceById(data.serviceId);\r\n  if (!service) return null;\r\n  \r\n  const servicePrice = getNumericPrice(service.price);\r\n  const bookingFee = getBookingFee(service.category);\r\n  \r\n  const booking: Booking = {\r\n    id: `STL-${Date.now().toString(36).toUpperCase()}`,\r\n    date: data.date,\r\n    timeSlot: data.timeSlot,\r\n    serviceId: data.serviceId,\r\n    serviceName: service.name,\r\n    servicePrice,\r\n    bookingFee,\r\n    customerName: data.customerName,\r\n    customerEmail: data.customerEmail,\r\n    customerPhone: data.customerPhone,\r\n    notes: data.notes,\r\n    status: 'pending_payment',\r\n    paymentStatus: 'pending',\r\n    paymentMethod: data.paymentMethod,\r\n    createdAt: new Date().toISOString(),\r\n    updatedAt: new Date().toISOString(),\r\n  };\r\n  \r\n  const bookings = getAllBookings();\r\n  bookings.push(booking);\r\n  localStorage.setItem(BOOKINGS_KEY, JSON.stringify(bookings));\r\n  \r\n  return booking;\r\n}\r\n\r\n// Update booking status\r\nexport function updateBookingStatus(\r\n  id: string, \r\n  status: BookingStatus, \r\n  paymentStatus?: PaymentStatus\r\n): Booking | null {\r\n  const bookings = getAllBookings();\r\n  const index = bookings.findIndex(b => b.id === id);\r\n  \r\n  if (index === -1) return null;\r\n  \r\n  bookings[index].status = status;\r\n  if (paymentStatus) {\r\n    bookings[index].paymentStatus = paymentStatus;\r\n  }\r\n  bookings[index].updatedAt = new Date().toISOString();\r\n  \r\n  localStorage.setItem(BOOKINGS_KEY, JSON.stringify(bookings));\r\n  \r\n  logAdminAction('UPDATE_BOOKING_STATUS', { \r\n    bookingId: id, \r\n    newStatus: status,\r\n    newPaymentStatus: paymentStatus \r\n  });\r\n  \r\n  return bookings[index];\r\n}\r\n\r\n// Mark payment as received\r\nexport function markPaymentReceived(id: string): Booking | null {\r\n  const bookings = getAllBookings();\r\n  const index = bookings.findIndex(b => b.id === id);\r\n  \r\n  if (index === -1) return null;\r\n  \r\n  bookings[index].status = 'confirmed';\r\n  bookings[index].paymentStatus = 'paid';\r\n  bookings[index].verifiedAt = new Date().toISOString();\r\n  bookings[index].updatedAt = new Date().toISOString();\r\n  \r\n  localStorage.setItem(BOOKINGS_KEY, JSON.stringify(bookings));\r\n  \r\n  logAdminAction('MARK_PAYMENT_RECEIVED', { bookingId: id });\r\n  \r\n  return bookings[index];\r\n}\r\n\r\n// Mark as overbooked\r\nexport function markAsOverbooked(\r\n  id: string, \r\n  reason: OverbookReason, \r\n  notes?: string\r\n): Booking | null {\r\n  const bookings = getAllBookings();\r\n  const index = bookings.findIndex(b => b.id === id);\r\n  \r\n  if (index === -1) return null;\r\n  \r\n  bookings[index].status = 'overbooked';\r\n  bookings[index].isOverbooked = true;\r\n  bookings[index].overbookReason = reason;\r\n  bookings[index].overbookNotes = notes;\r\n  bookings[index].overbookedAt = new Date().toISOString();\r\n  bookings[index].overbookResolution = 'pending';\r\n  bookings[index].updatedAt = new Date().toISOString();\r\n  \r\n  localStorage.setItem(BOOKINGS_KEY, JSON.stringify(bookings));\r\n  \r\n  logAdminAction('MARK_OVERBOOKED', { \r\n    bookingId: id, \r\n    reason,\r\n    notes \r\n  });\r\n  \r\n  return bookings[index];\r\n}\r\n\r\n// Resolve overbooking\r\nexport function resolveOverbooking(\r\n  id: string,\r\n  resolution: OverbookResolution,\r\n  compensationAmount?: number\r\n): Booking | null {\r\n  const bookings = getAllBookings();\r\n  const index = bookings.findIndex(b => b.id === id);\r\n  \r\n  if (index === -1) return null;\r\n  \r\n  bookings[index].overbookResolution = resolution;\r\n  bookings[index].overbookResolvedAt = new Date().toISOString();\r\n  bookings[index].compensationAmount = compensationAmount;\r\n  \r\n  if (resolution === 'refunded') {\r\n    bookings[index].status = 'cancelled';\r\n    bookings[index].paymentStatus = 'refunded';\r\n  } else if (resolution === 'rescheduled') {\r\n    bookings[index].status = 'confirmed';\r\n  } else if (resolution === 'completed_with_compensation') {\r\n    bookings[index].status = 'completed';\r\n  }\r\n  \r\n  bookings[index].updatedAt = new Date().toISOString();\r\n  \r\n  localStorage.setItem(BOOKINGS_KEY, JSON.stringify(bookings));\r\n  \r\n  logAdminAction('RESOLVE_OVERBOOKING', { \r\n    bookingId: id, \r\n    resolution,\r\n    compensationAmount \r\n  });\r\n  \r\n  return bookings[index];\r\n}\r\n\r\n// Cancel booking\r\nexport function cancelBooking(id: string, reason?: string): Booking | null {\r\n  const bookings = getAllBookings();\r\n  const index = bookings.findIndex(b => b.id === id);\r\n  \r\n  if (index === -1) return null;\r\n  \r\n  bookings[index].status = 'cancelled';\r\n  bookings[index].paymentStatus = 'refunded';\r\n  bookings[index].cancellationReason = reason;\r\n  bookings[index].cancelledAt = new Date().toISOString();\r\n  bookings[index].updatedAt = new Date().toISOString();\r\n  \r\n  localStorage.setItem(BOOKINGS_KEY, JSON.stringify(bookings));\r\n  \r\n  logAdminAction('CANCEL_BOOKING', { bookingId: id, reason });\r\n  \r\n  return bookings[index];\r\n}\r\n\r\n// Reschedule booking\r\nexport function rescheduleBooking(\r\n  id: string, \r\n  newDate: string, \r\n  newTimeSlot: string\r\n): Booking | null {\r\n  const bookings = getAllBookings();\r\n  const index = bookings.findIndex(b => b.id === id);\r\n  \r\n  if (index === -1) return null;\r\n  \r\n  const oldDate = bookings[index].date;\r\n  const oldTime = bookings[index].timeSlot;\r\n  \r\n  bookings[index].date = newDate;\r\n  bookings[index].timeSlot = newTimeSlot;\r\n  bookings[index].updatedAt = new Date().toISOString();\r\n  \r\n  localStorage.setItem(BOOKINGS_KEY, JSON.stringify(bookings));\r\n  \r\n  logAdminAction('RESCHEDULE_BOOKING', { \r\n    bookingId: id, \r\n    oldDate,\r\n    oldTime,\r\n    newDate,\r\n    newTimeSlot \r\n  });\r\n  \r\n  return bookings[index];\r\n}\r\n\r\n// Get availability settings\r\nexport function getAvailabilitySettings(): AvailabilitySettings {\r\n  if (typeof window === 'undefined') return DEFAULT_AVAILABILITY;\r\n  const stored = localStorage.getItem(AVAILABILITY_KEY);\r\n  if (!stored) return DEFAULT_AVAILABILITY;\r\n  \r\n  const parsed = JSON.parse(stored);\r\n  \r\n  // Merge with defaults to ensure new fields exist\r\n  return {\r\n    ...DEFAULT_AVAILABILITY,\r\n    ...parsed,\r\n    // Ensure dateSpecificSlots exists (for backward compatibility)\r\n    dateSpecificSlots: parsed.dateSpecificSlots || [],\r\n  };\r\n}\r\n\r\n// Update availability settings\r\nexport function updateAvailabilitySettings(settings: AvailabilitySettings): void {\r\n  if (typeof window === 'undefined') return;\r\n  localStorage.setItem(AVAILABILITY_KEY, JSON.stringify(settings));\r\n  logAdminAction('UPDATE_AVAILABILITY', { ...settings });\r\n}\r\n\r\n// Get overbooking settings\r\nexport function getOverbookingSettings(): OverbookingSettings {\r\n  if (typeof window === 'undefined') return DEFAULT_OVERBOOKING;\r\n  const stored = localStorage.getItem(OVERBOOKING_KEY);\r\n  return stored ? JSON.parse(stored) : DEFAULT_OVERBOOKING;\r\n}\r\n\r\n// Update overbooking settings\r\nexport function updateOverbookingSettings(settings: OverbookingSettings): void {\r\n  if (typeof window === 'undefined') return;\r\n  localStorage.setItem(OVERBOOKING_KEY, JSON.stringify(settings));\r\n  logAdminAction('UPDATE_OVERBOOKING_SETTINGS', { ...settings });\r\n}\r\n\r\n// Get booking statistics\r\nexport function getBookingStats() {\r\n  const bookings = getAllBookings();\r\n  const today = new Date().toISOString().split('T')[0];\r\n  \r\n  return {\r\n    total: bookings.length,\r\n    pendingPayment: bookings.filter(b => b.status === 'pending_payment').length,\r\n    awaitingVerification: bookings.filter(b => b.status === 'awaiting_verification').length,\r\n    confirmed: bookings.filter(b => b.status === 'confirmed').length,\r\n    completed: bookings.filter(b => b.status === 'completed').length,\r\n    cancelled: bookings.filter(b => b.status === 'cancelled').length,\r\n    overbooked: bookings.filter(b => b.status === 'overbooked').length,\r\n    today: bookings.filter(b => b.date === today).length,\r\n    revenue: bookings\r\n      .filter(b => b.paymentStatus === 'paid')\r\n      .reduce((sum, b) => sum + b.bookingFee, 0),\r\n  };\r\n}\r\n\r\n// Search bookings\r\nexport function searchBookings(query: string): Booking[] {\r\n  const lowerQuery = query.toLowerCase();\r\n  return getAllBookings().filter(b => \r\n    b.id.toLowerCase().includes(lowerQuery) ||\r\n    b.customerName.toLowerCase().includes(lowerQuery) ||\r\n    b.customerEmail.toLowerCase().includes(lowerQuery) ||\r\n    b.customerPhone.includes(query) ||\r\n    b.serviceName.toLowerCase().includes(lowerQuery)\r\n  );\r\n}\r\n\r\n// Clear all bookings (for testing)\r\nexport function clearAllBookings(): void {\r\n  if (typeof window === 'undefined') return;\r\n  localStorage.removeItem(BOOKINGS_KEY);\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 773, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Marco/OneDrive/Desktop/test/stylash/app/admin/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Link from \"next/link\";\r\nimport {\r\n  LogOut,\r\n  Calendar,\r\n  Clock,\r\n  User,\r\n  Phone,\r\n  Search,\r\n  CheckCircle,\r\n  XCircle,\r\n  Loader2,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  Settings,\r\n  Shield,\r\n  Ban,\r\n  AlertTriangle,\r\n  Download,\r\n  Eye,\r\n  EyeOff,\r\n  RefreshCw,\r\n  Plus,\r\n  Minus,\r\n  MapPin,\r\n  CreditCard,\r\n  Filter,\r\n  MoreVertical,\r\n  CalendarDays,\r\n  LayoutGrid,\r\n  List,\r\n} from \"lucide-react\";\r\nimport { format, parseISO, startOfMonth, endOfMonth, eachDayOfInterval, isSameMonth, isSameDay, addMonths, subMonths, startOfWeek, endOfWeek, addWeeks, subWeeks, addDays, subDays } from \"date-fns\";\r\nimport { logoutAdmin, getSession, getLoginActivity, getActiveSessions, forceLogoutSession, getAuditLog, addAuditLogEntry } from \"@/lib/auth\";\r\nimport {\r\n  getAllBookings,\r\n  getBookingStats,\r\n  markPaymentReceived,\r\n  cancelBooking,\r\n  rescheduleBooking,\r\n  getAvailabilitySettings,\r\n  updateAvailabilitySettings,\r\n  setDateSpecificSlots,\r\n  removeDateSpecificSlots,\r\n  markDateFullyBooked,\r\n  DEFAULT_AVAILABILITY,\r\n  DEFAULT_TIME_SLOTS,\r\n} from \"@/lib/bookings\";\r\nimport { SERVICES, getServiceById } from \"@/lib/services\";\r\nimport { Booking, BookingStatus, CalendarView, AuditLogEntry } from \"@/lib/types\";\r\n\r\nconst STATUS_COLORS: Record<BookingStatus, { bg: string; text: string; border: string }> = {\r\n  pending_payment: { bg: \"bg-yellow-50\", text: \"text-yellow-700\", border: \"border-yellow-200\" },\r\n  awaiting_verification: { bg: \"bg-blue-50\", text: \"text-blue-700\", border: \"border-blue-200\" },\r\n  confirmed: { bg: \"bg-green-50\", text: \"text-green-700\", border: \"border-green-200\" },\r\n  completed: { bg: \"bg-purple-50\", text: \"text-purple-700\", border: \"border-purple-200\" },\r\n  cancelled: { bg: \"bg-red-50\", text: \"text-red-700\", border: \"border-red-200\" },\r\n  overbooked: { bg: \"bg-orange-50\", text: \"text-orange-700\", border: \"border-orange-200\" },\r\n};\r\n\r\nconst SERVICE_COLORS: Record<string, string> = {\r\n  lashes: \"bg-pink-400\",\r\n  nails: \"bg-purple-400\",\r\n  brows: \"bg-amber-400\",\r\n  hair: \"bg-cyan-400\",\r\n  underarm: \"bg-emerald-400\",\r\n  airlashes: \"bg-rose-400\",\r\n  training: \"bg-indigo-400\",\r\n};\r\n\r\ntype AdminTab = \"calendar\" | \"bookings\" | \"availability\" | \"security\";\r\n\r\nexport default function AdminDashboard() {\r\n  const router = useRouter();\r\n  const [activeTab, setActiveTab] = useState<AdminTab>(\"calendar\");\r\n  const [bookings, setBookings] = useState<Booking[]>([]);\r\n  const [stats, setStats] = useState(getBookingStats());\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n\r\n  // Calendar state\r\n  const [calendarView, setCalendarView] = useState<CalendarView>(\"month\");\r\n  const [currentDate, setCurrentDate] = useState(new Date());\r\n  const [selectedDate, setSelectedDate] = useState<Date | null>(null);\r\n\r\n  // Availability state\r\n  const [availability, setAvailability] = useState(getAvailabilitySettings());\r\n  const [selectedSlotDate, setSelectedSlotDate] = useState<string>(\"\");\r\n  const [selectedTimeSlots, setSelectedTimeSlots] = useState<string[]>([]);\r\n  const [slotNote, setSlotNote] = useState(\"\");\r\n  const [blockDateInput, setBlockDateInput] = useState<string>(\"\");\r\n  const [blockDateNote, setBlockDateNote] = useState<string>(\"\");\r\n\r\n  // Security state\r\n  const [auditLogs, setAuditLogs] = useState<AuditLogEntry[]>([]);\r\n  const [activeSessions, setActiveSessions] = useState<{ token: string; ip: string; startedAt: string }[]>([]);\r\n  const [loginActivity, setLoginActivity] = useState<import(\"@/lib/types\").LoginAttempt[]>([]);\r\n\r\n  // Reschedule modal\r\n  const [rescheduleBookingData, setRescheduleBookingData] = useState<Booking | null>(null);\r\n  const [newDate, setNewDate] = useState(\"\");\r\n  const [newTime, setNewTime] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n    const interval = setInterval(loadData, 30000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const loadData = () => {\r\n    setBookings(getAllBookings());\r\n    setStats(getBookingStats());\r\n    setAvailability(getAvailabilitySettings());\r\n    setAuditLogs(getAuditLog());\r\n    setActiveSessions(getActiveSessions());\r\n    setLoginActivity(getLoginActivity());\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    logoutAdmin();\r\n    router.push(\"/admin/login\");\r\n  };\r\n\r\n  const handleMarkPaid = (bookingId: string) => {\r\n    markPaymentReceived(bookingId);\r\n    addAuditLogEntry({\r\n      timestamp: new Date().toISOString(),\r\n      user: \"admin\",\r\n      actionType: \"PAYMENT_RECEIVED\",\r\n      target: bookingId,\r\n      after: \"paid\",\r\n      ipAddress: activeSessions[0]?.ip || \"unknown\",\r\n      sessionToken: activeSessions[0]?.token || \"unknown\",\r\n    });\r\n    loadData();\r\n  };\r\n\r\n  const handleCancel = (bookingId: string) => {\r\n    cancelBooking(bookingId, \"Cancelled by admin\");\r\n    addAuditLogEntry({\r\n      timestamp: new Date().toISOString(),\r\n      user: \"admin\",\r\n      actionType: \"BOOKING_CANCELLED\",\r\n      target: bookingId,\r\n      after: \"cancelled\",\r\n      ipAddress: activeSessions[0]?.ip || \"unknown\",\r\n      sessionToken: activeSessions[0]?.token || \"unknown\",\r\n    });\r\n    loadData();\r\n  };\r\n\r\n  const handleReschedule = () => {\r\n    if (rescheduleBookingData && newDate && newTime) {\r\n      rescheduleBooking(rescheduleBookingData.id, newDate, newTime);\r\n      addAuditLogEntry({\r\n        timestamp: new Date().toISOString(),\r\n        user: \"admin\",\r\n        actionType: \"BOOKING_RESCHEDULED\",\r\n        target: rescheduleBookingData.id,\r\n        before: `${rescheduleBookingData.date} ${rescheduleBookingData.timeSlot}`,\r\n        after: `${newDate} ${newTime}`,\r\n        ipAddress: activeSessions[0]?.ip || \"unknown\",\r\n        sessionToken: activeSessions[0]?.token || \"unknown\",\r\n      });\r\n      setRescheduleBookingData(null);\r\n      setNewDate(\"\");\r\n      setNewTime(\"\");\r\n      loadData();\r\n    }\r\n  };\r\n\r\n  // Calendar navigation\r\n  const navigateCalendar = (direction: \"prev\" | \"next\") => {\r\n    if (calendarView === \"month\") {\r\n      setCurrentDate(direction === \"prev\" ? subMonths(currentDate, 1) : addMonths(currentDate, 1));\r\n    } else if (calendarView === \"week\") {\r\n      setCurrentDate(direction === \"prev\" ? subWeeks(currentDate, 1) : addWeeks(currentDate, 1));\r\n    } else {\r\n      setCurrentDate(direction === \"prev\" ? subDays(currentDate, 1) : addDays(currentDate, 1));\r\n    }\r\n  };\r\n\r\n  // Get calendar days\r\n  const getCalendarDays = () => {\r\n    if (calendarView === \"month\") {\r\n      const start = startOfMonth(currentDate);\r\n      const end = endOfMonth(currentDate);\r\n      return eachDayOfInterval({ start, end });\r\n    } else if (calendarView === \"week\") {\r\n      const start = startOfWeek(currentDate);\r\n      const end = endOfWeek(currentDate);\r\n      return eachDayOfInterval({ start, end });\r\n    } else {\r\n      return [currentDate];\r\n    }\r\n  };\r\n\r\n  // Get bookings for a specific date (excluding cancelled)\r\n  const getBookingsForDate = (date: Date) => {\r\n    const dateStr = format(date, \"yyyy-MM-dd\");\r\n    return bookings.filter((b) => b.date === dateStr && b.status !== \"cancelled\");\r\n  };\r\n\r\n  // Quick actions\r\n  const blockToday = () => {\r\n    const today = format(new Date(), \"yyyy-MM-dd\");\r\n    const newBlocked = [...availability.blockedDates, today];\r\n    updateAvailabilitySettings({ ...availability, blockedDates: newBlocked });\r\n    addAuditLogEntry({\r\n      timestamp: new Date().toISOString(),\r\n      user: \"admin\",\r\n      actionType: \"AVAILABILITY_CHANGED\",\r\n      target: today,\r\n      after: \"blocked\",\r\n      ipAddress: activeSessions[0]?.ip || \"unknown\",\r\n      sessionToken: activeSessions[0]?.token || \"unknown\",\r\n    });\r\n    loadData();\r\n  };\r\n\r\n  const blockTomorrow = () => {\r\n    const tomorrow = format(addDays(new Date(), 1), \"yyyy-MM-dd\");\r\n    const newBlocked = [...availability.blockedDates, tomorrow];\r\n    updateAvailabilitySettings({ ...availability, blockedDates: newBlocked });\r\n    addAuditLogEntry({\r\n      timestamp: new Date().toISOString(),\r\n      user: \"admin\",\r\n      actionType: \"AVAILABILITY_CHANGED\",\r\n      target: tomorrow,\r\n      after: \"blocked\",\r\n      ipAddress: activeSessions[0]?.ip || \"unknown\",\r\n      sessionToken: activeSessions[0]?.token || \"unknown\",\r\n    });\r\n    loadData();\r\n  };\r\n\r\n  const emergencyFullBook = () => {\r\n    const today = format(new Date(), \"yyyy-MM-dd\");\r\n    if (!availability.blockedDates.includes(today)) {\r\n      blockToday();\r\n    }\r\n  };\r\n\r\n  // Filter bookings\r\n  const filteredBookings = bookings\r\n    .filter(\r\n      (b) =>\r\n        b.customerName.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        b.id.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        b.serviceName.toLowerCase().includes(searchQuery.toLowerCase())\r\n    )\r\n    .sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\r\n\r\n  // Export audit logs\r\n  const exportAuditLogs = () => {\r\n    const csv = [\r\n      [\"Timestamp\", \"User\", \"Action\", \"Target\", \"Before\", \"After\", \"IP Address\"].join(\",\"),\r\n      ...auditLogs.map((log) =>\r\n        [log.timestamp, log.user, log.actionType, log.target, log.before || \"\", log.after || \"\", log.ipAddress].join(\",\")\r\n      ),\r\n    ].join(\"\\n\");\r\n\r\n    const blob = new Blob([csv], { type: \"text/csv\" });\r\n    const url = window.URL.createObjectURL(blob);\r\n    const a = document.createElement(\"a\");\r\n    a.href = url;\r\n    a.download = `audit-log-${format(new Date(), \"yyyy-MM-dd\")}.csv`;\r\n    a.click();\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <Loader2 className=\"w-8 h-8 animate-spin text-pink-600\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <header className=\"bg-white shadow-sm sticky top-0 z-40\">\r\n        <div className=\"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <Link href=\"/\" className=\"text-2xl font-bold font-serif text-pink-600\">\r\n              StyLash\r\n            </Link>\r\n            <span className=\"text-gray-400\">|</span>\r\n            <span className=\"text-gray-600 font-medium\">Admin Dashboard</span>\r\n          </div>\r\n          <button onClick={handleLogout} className=\"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg\">\r\n            <LogOut className=\"w-4 h-4\" />\r\n            Logout\r\n          </button>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Navigation Tabs */}\r\n      <div className=\"bg-white border-b\">\r\n        <div className=\"max-w-7xl mx-auto px-4\">\r\n          <div className=\"flex gap-1\">\r\n            {[\r\n              { id: \"calendar\", label: \"Calendar\", icon: Calendar },\r\n              { id: \"bookings\", label: \"Bookings\", icon: List },\r\n              { id: \"availability\", label: \"Availability\", icon: Settings },\r\n              { id: \"security\", label: \"Security\", icon: Shield },\r\n            ].map((tab) => (\r\n              <button\r\n                key={tab.id}\r\n                onClick={() => setActiveTab(tab.id as AdminTab)}\r\n                className={`flex items-center gap-2 px-6 py-4 font-medium text-sm border-b-2 transition-colors ${\r\n                  activeTab === tab.id ? \"border-pink-600 text-pink-600\" : \"border-transparent text-gray-600 hover:text-gray-900\"\r\n                }`}\r\n              >\r\n                <tab.icon className=\"w-4 h-4\" />\r\n                {tab.label}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <main className=\"max-w-7xl mx-auto px-4 py-6\">\r\n        {/* Quick Actions Bar */}\r\n        <div className=\"bg-white rounded-xl shadow-sm p-4 mb-6 flex flex-wrap gap-3\">\r\n          <div className=\"flex items-center gap-4 text-sm text-gray-600\">\r\n            <span>Today's Bookings: <strong className=\"text-pink-600\">{stats.today}</strong></span>\r\n            <span>This Week's Revenue: <strong className=\"text-pink-600\">â‚±{stats.revenue}</strong></span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Stats Cards */}\r\n        <div className=\"grid grid-cols-2 md:grid-cols-6 gap-4 mb-6\">\r\n          {[\r\n            { label: \"Total\", value: stats.total, color: \"text-gray-900\", bg: \"bg-gray-50\" },\r\n            { label: \"Pending Payment\", value: stats.pendingPayment, color: \"text-yellow-600\", bg: \"bg-yellow-50\" },\r\n            { label: \"Awaiting Verification\", value: stats.awaitingVerification, color: \"text-blue-600\", bg: \"bg-blue-50\" },\r\n            { label: \"Confirmed\", value: stats.confirmed, color: \"text-green-600\", bg: \"bg-green-50\" },\r\n            { label: \"Completed\", value: stats.completed, color: \"text-purple-600\", bg: \"bg-purple-50\" },\r\n            { label: \"Revenue\", value: `â‚±${stats.revenue}`, color: \"text-pink-600\", bg: \"bg-pink-50\" },\r\n          ].map((stat) => (\r\n            <div key={stat.label} className={`${stat.bg} rounded-xl p-4 text-center`}>\r\n              <p className={`text-2xl font-bold ${stat.color}`}>{stat.value}</p>\r\n              <p className=\"text-xs text-gray-500 mt-1\">{stat.label}</p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Calendar Tab */}\r\n        {activeTab === \"calendar\" && (\r\n          <div className=\"bg-white rounded-xl shadow-sm overflow-hidden\">\r\n            {/* Calendar Header */}\r\n            <div className=\"flex items-center justify-between p-4 border-b\">\r\n              <div className=\"flex items-center gap-4\">\r\n                <h2 className=\"text-lg font-semibold\">\r\n                  {calendarView === \"month\" && format(currentDate, \"MMMM yyyy\")}\r\n                  {calendarView === \"week\" && `Week of ${format(startOfWeek(currentDate), \"MMM d\")}`}\r\n                  {calendarView === \"day\" && format(currentDate, \"EEEE, MMMM d, yyyy\")}\r\n                </h2>\r\n                <div className=\"flex items-center gap-1\">\r\n                  <button onClick={() => navigateCalendar(\"prev\")} className=\"p-2 hover:bg-gray-100 rounded-lg\">\r\n                    <ChevronLeft className=\"w-5 h-5\" />\r\n                  </button>\r\n                  <button onClick={() => setCurrentDate(new Date())} className=\"px-3 py-1.5 text-sm bg-gray-100 rounded-lg hover:bg-gray-200\">\r\n                    Today\r\n                  </button>\r\n                  <button onClick={() => navigateCalendar(\"next\")} className=\"p-2 hover:bg-gray-100 rounded-lg\">\r\n                    <ChevronRight className=\"w-5 h-5\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center gap-2 bg-gray-100 rounded-lg p-1\">\r\n                {([\"month\", \"week\", \"day\"] as CalendarView[]).map((view) => (\r\n                  <button\r\n                    key={view}\r\n                    onClick={() => setCalendarView(view)}\r\n                    className={`px-3 py-1.5 text-sm rounded-md capitalize ${\r\n                      calendarView === view ? \"bg-white shadow-sm text-pink-600\" : \"text-gray-600 hover:text-gray-900\"\r\n                    }`}\r\n                  >\r\n                    {view}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Calendar Grid */}\r\n            <div className=\"p-4\">\r\n              {calendarView === \"month\" && (\r\n                <div className=\"grid grid-cols-7 gap-2\">\r\n                  {[\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"].map((day) => (\r\n                    <div key={day} className=\"text-center text-sm font-medium text-gray-500 py-2\">\r\n                      {day}\r\n                    </div>\r\n                  ))}\r\n                  {getCalendarDays().map((date, i) => {\r\n                    const dayBookings = getBookingsForDate(date);\r\n                    const isBlocked = availability.blockedDates.includes(format(date, \"yyyy-MM-dd\"));\r\n                    const isToday = isSameDay(date, new Date());\r\n                    const isCurrentMonth = isSameMonth(date, currentDate);\r\n\r\n                    return (\r\n                      <div\r\n                        key={i}\r\n                        onClick={() => setSelectedDate(date)}\r\n                        className={`min-h-[100px] p-2 border rounded-lg cursor-pointer hover:border-pink-300 transition-colors ${\r\n                          isToday ? \"bg-pink-50 border-pink-300\" : \"bg-white border-gray-200\"\r\n                        } ${!isCurrentMonth && \"opacity-50\"} ${isBlocked && \"bg-red-50\"}`}\r\n                      >\r\n                        <div className=\"flex items-center justify-between mb-1\">\r\n                          <span className={`text-sm font-medium ${isToday ? \"text-pink-600\" : \"text-gray-700\"}`}>\r\n                            {format(date, \"d\")}\r\n                          </span>\r\n                          {isBlocked && <Ban className=\"w-4 h-4 text-red-500\" />}\r\n                          {dayBookings.length > 0 && (\r\n                            <span className=\"text-xs bg-pink-100 text-pink-600 px-1.5 py-0.5 rounded-full\">\r\n                              {dayBookings.length}\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                        <div className=\"space-y-1\">\r\n                          {dayBookings.slice(0, 3).map((booking) => {\r\n                            const service = getServiceById(booking.serviceId);\r\n                            return (\r\n                              <div\r\n                                key={booking.id}\r\n                                className={`text-xs px-1.5 py-0.5 rounded truncate ${\r\n                                  SERVICE_COLORS[service?.category || \"lashes\"] || \"bg-gray-400\"\r\n                                } text-white`}\r\n                              >\r\n                                {booking.timeSlot} - {booking.customerName.split(\" \")[0]}\r\n                              </div>\r\n                            );\r\n                          })}\r\n                          {dayBookings.length > 3 && (\r\n                            <div className=\"text-xs text-gray-500 text-center\">+{dayBookings.length - 3} more</div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              )}\r\n\r\n              {(calendarView === \"week\" || calendarView === \"day\") && (\r\n                <div className=\"space-y-2\">\r\n                  {getCalendarDays().map((date) => {\r\n                    const dayBookings = getBookingsForDate(date);\r\n                    const isBlocked = availability.blockedDates.includes(format(date, \"yyyy-MM-dd\"));\r\n\r\n                    return (\r\n                      <div key={date.toISOString()} className=\"border rounded-lg overflow-hidden\">\r\n                        <div className={`p-3 font-medium ${isBlocked ? \"bg-red-50 text-red-700\" : \"bg-gray-50 text-gray-700\"}`}>\r\n                          {format(date, \"EEEE, MMMM d, yyyy\")}\r\n                          {isBlocked && <span className=\"ml-2 text-sm\">(Blocked)</span>}\r\n                        </div>\r\n                        <div className=\"p-4 space-y-2\">\r\n                          {dayBookings.length === 0 ? (\r\n                            <p className=\"text-gray-500 text-sm\">No bookings</p>\r\n                          ) : (\r\n                            dayBookings.map((booking) => {\r\n                              const service = getServiceById(booking.serviceId);\r\n                              return (\r\n                                <div\r\n                                  key={booking.id}\r\n                                  className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\"\r\n                                >\r\n                                  <div className=\"flex items-center gap-3\">\r\n                                    <div\r\n                                      className={`w-3 h-3 rounded-full ${\r\n                                        SERVICE_COLORS[service?.category || \"lashes\"]\r\n                                      }`}\r\n                                    />\r\n                                    <div>\r\n                                      <p className=\"font-medium\">{booking.timeSlot}</p>\r\n                                      <p className=\"text-sm text-gray-600\">{booking.serviceName}</p>\r\n                                    </div>\r\n                                  </div>\r\n                                  <div className=\"text-right\">\r\n                                    <p className=\"font-medium\">{booking.customerName}</p>\r\n                                    <span\r\n                                      className={`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs ${\r\n                                        STATUS_COLORS[booking.status].bg\r\n                                      } ${STATUS_COLORS[booking.status].text}`}\r\n                                    >\r\n                                      {booking.status.replace(\"_\", \" \")}\r\n                                    </span>\r\n                                  </div>\r\n                                </div>\r\n                              );\r\n                            })\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Bookings Tab */}\r\n        {activeTab === \"bookings\" && (\r\n          <div className=\"bg-white rounded-xl shadow-sm overflow-hidden\">\r\n            {/* Search */}\r\n            <div className=\"p-4 border-b\">\r\n              <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-3 w-5 h-5 text-gray-400\" />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search bookings by customer, ID, or service...\"\r\n                  value={searchQuery}\r\n                  onChange={(e) => setSearchQuery(e.target.value)}\r\n                  className=\"w-full pl-10 pr-4 py-2.5 border rounded-xl focus:border-pink-500 focus:outline-none\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Bookings Table */}\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"w-full\">\r\n                <thead className=\"bg-gray-50\">\r\n                  <tr>\r\n                    <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-500\">ID</th>\r\n                    <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-500\">Customer</th>\r\n                    <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-500\">Service</th>\r\n                    <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-500\">Date & Time</th>\r\n                    <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-500\">Status</th>\r\n                    <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-500\">Actions</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"divide-y divide-gray-100\">\r\n                  {filteredBookings.map((booking) => (\r\n                    <tr key={booking.id} className=\"hover:bg-gray-50\">\r\n                      <td className=\"px-4 py-3 font-mono text-xs text-gray-600\">{booking.id}</td>\r\n                      <td className=\"px-4 py-3\">\r\n                        <p className=\"font-medium text-sm\">{booking.customerName}</p>\r\n                        <p className=\"text-xs text-gray-500\">{booking.customerPhone}</p>\r\n                      </td>\r\n                      <td className=\"px-4 py-3 text-sm\">{booking.serviceName}</td>\r\n                      <td className=\"px-4 py-3\">\r\n                        <p className=\"text-sm\">{format(parseISO(booking.date), \"MMM d, yyyy\")}</p>\r\n                        <p className=\"text-xs text-gray-500\">{booking.timeSlot}</p>\r\n                      </td>\r\n                      <td className=\"px-4 py-3\">\r\n                        <span\r\n                          className={`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs ${STATUS_COLORS[booking.status].bg} ${STATUS_COLORS[booking.status].text}`}\r\n                        >\r\n                          {booking.status.replace(\"_\", \" \")}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"px-4 py-3\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                          {(booking.status === \"pending_payment\" || booking.status === \"awaiting_verification\") && (\r\n                            <button\r\n                              onClick={() => handleMarkPaid(booking.id)}\r\n                              className=\"text-xs bg-green-100 text-green-700 px-3 py-1.5 rounded-lg hover:bg-green-200 font-medium\"\r\n                            >\r\n                              Mark Paid\r\n                            </button>\r\n                          )}\r\n                          {(booking.status === \"pending_payment\" || booking.status === \"awaiting_verification\") && (\r\n                            <button\r\n                              onClick={() => handleCancel(booking.id)}\r\n                              className=\"text-xs bg-red-100 text-red-700 px-3 py-1.5 rounded-lg hover:bg-red-200 font-medium\"\r\n                            >\r\n                              Cancel\r\n                            </button>\r\n                          )}\r\n                          {booking.status !== \"cancelled\" && booking.status !== \"completed\" && (\r\n                            <button\r\n                              onClick={() => {\r\n                                setRescheduleBookingData(booking);\r\n                                setNewDate(booking.date);\r\n                                setNewTime(booking.timeSlot);\r\n                              }}\r\n                              className=\"text-xs bg-blue-100 text-blue-700 px-3 py-1.5 rounded-lg hover:bg-blue-200 font-medium\"\r\n                            >\r\n                              Reschedule\r\n                            </button>\r\n                          )}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n              {filteredBookings.length === 0 && <p className=\"text-center text-gray-500 py-12\">No bookings found</p>}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Availability Tab */}\r\n        {activeTab === \"availability\" && (\r\n          <div className=\"space-y-6\">\r\n            {/* Date-Specific Time Slots */}\r\n            <div className=\"bg-white rounded-xl shadow-sm p-6\">\r\n              <h3 className=\"text-lg font-semibold mb-4\">Date-Specific Time Slots</h3>\r\n              <p className=\"text-sm text-gray-600 mb-4\">\r\n                Set custom available times for specific dates. This overrides the default working hours.\r\n              </p>\r\n              \r\n              {/* Add New Date Slots */}\r\n              <div className=\"bg-gray-50 rounded-lg p-4 mb-4\">\r\n                <div className=\"grid md:grid-cols-3 gap-4 mb-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium mb-2\">Select Date</label>\r\n                    <input\r\n                      type=\"date\"\r\n                      value={selectedSlotDate}\r\n                      onChange={(e) => {\r\n                        setSelectedSlotDate(e.target.value);\r\n                        // Load existing slots if any\r\n                        const existing = availability.dateSpecificSlots.find(s => s.date === e.target.value);\r\n                        if (existing) {\r\n                          setSelectedTimeSlots(existing.timeSlots);\r\n                          setSlotNote(existing.note || \"\");\r\n                        } else {\r\n                          setSelectedTimeSlots([]);\r\n                          setSlotNote(\"\");\r\n                        }\r\n                      }}\r\n                      className=\"w-full border rounded-lg px-3 py-2\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"md:col-span-2\">\r\n                    <label className=\"block text-sm font-medium mb-2\">Note (optional)</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={slotNote}\r\n                      onChange={(e) => setSlotNote(e.target.value)}\r\n                      placeholder=\"e.g., Holiday hours, Special event\"\r\n                      className=\"w-full border rounded-lg px-3 py-2\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                \r\n                <label className=\"block text-sm font-medium mb-2\">Available Time Slots</label>\r\n                <div className=\"grid grid-cols-4 md:grid-cols-6 gap-2 mb-4\">\r\n                  {DEFAULT_TIME_SLOTS.map((slot) => (\r\n                    <button\r\n                      key={slot}\r\n                      onClick={() => {\r\n                        if (selectedTimeSlots.includes(slot)) {\r\n                          setSelectedTimeSlots(selectedTimeSlots.filter(s => s !== slot));\r\n                        } else {\r\n                          setSelectedTimeSlots([...selectedTimeSlots, slot].sort());\r\n                        }\r\n                      }}\r\n                      className={`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${\r\n                        selectedTimeSlots.includes(slot)\r\n                          ? \"bg-pink-600 text-white\"\r\n                          : \"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50\"\r\n                      }`}\r\n                    >\r\n                      {slot}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n                \r\n                <div className=\"flex gap-3\">\r\n                  <button\r\n                    onClick={() => {\r\n                      if (selectedSlotDate && selectedTimeSlots.length > 0) {\r\n                        setDateSpecificSlots(selectedSlotDate, selectedTimeSlots, slotNote);\r\n                        addAuditLogEntry({\r\n                          timestamp: new Date().toISOString(),\r\n                          user: \"admin\",\r\n                          actionType: \"AVAILABILITY_CHANGED\",\r\n                          target: selectedSlotDate,\r\n                          after: `${selectedTimeSlots.length} slots: ${selectedTimeSlots.join(\", \")}`,\r\n                          ipAddress: activeSessions[0]?.ip || \"unknown\",\r\n                          sessionToken: activeSessions[0]?.token || \"unknown\",\r\n                        });\r\n                        loadData();\r\n                        setSelectedSlotDate(\"\");\r\n                        setSelectedTimeSlots([]);\r\n                        setSlotNote(\"\");\r\n                      }\r\n                    }}\r\n                    disabled={!selectedSlotDate || selectedTimeSlots.length === 0}\r\n                    className=\"px-4 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                  >\r\n                    Save Time Slots\r\n                  </button>\r\n                  <button\r\n                    onClick={() => {\r\n                      if (selectedSlotDate) {\r\n                        markDateFullyBooked(selectedSlotDate, slotNote);\r\n                        addAuditLogEntry({\r\n                          timestamp: new Date().toISOString(),\r\n                          user: \"admin\",\r\n                          actionType: \"AVAILABILITY_CHANGED\",\r\n                          target: selectedSlotDate,\r\n                          after: \"Fully Booked\",\r\n                          ipAddress: activeSessions[0]?.ip || \"unknown\",\r\n                          sessionToken: activeSessions[0]?.token || \"unknown\",\r\n                        });\r\n                        loadData();\r\n                        setSelectedSlotDate(\"\");\r\n                        setSelectedTimeSlots([]);\r\n                        setSlotNote(\"\");\r\n                      }\r\n                    }}\r\n                    disabled={!selectedSlotDate}\r\n                    className=\"px-4 py-2 bg-orange-100 text-orange-700 rounded-lg hover:bg-orange-200 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                  >\r\n                    Mark Fully Booked\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Existing Date Slots */}\r\n              <div className=\"space-y-2\">\r\n                <h4 className=\"font-medium text-sm text-gray-700\">Configured Dates</h4>\r\n                {availability.dateSpecificSlots.length === 0 ? (\r\n                  <p className=\"text-gray-500 text-sm\">No date-specific slots configured</p>\r\n                ) : (\r\n                  availability.dateSpecificSlots.map((slot) => (\r\n                    <div key={slot.date} className=\"flex items-center justify-between p-3 bg-blue-50 rounded-lg\">\r\n                      <div>\r\n                        <p className=\"font-medium text-blue-900\">\r\n                          {format(parseISO(slot.date), \"EEEE, MMMM d, yyyy\")}\r\n                        </p>\r\n                        {slot.isFullyBooked ? (\r\n                          <p className=\"text-sm text-orange-600 font-medium\">Fully Booked</p>\r\n                        ) : (\r\n                          <p className=\"text-sm text-blue-700\">\r\n                            {slot.timeSlots.length} slots: {slot.timeSlots.slice(0, 5).join(\", \")}\r\n                            {slot.timeSlots.length > 5 && ` +${slot.timeSlots.length - 5} more`}\r\n                          </p>\r\n                        )}\r\n                        {slot.note && <p className=\"text-xs text-gray-500 mt-1\">{slot.note}</p>}\r\n                      </div>\r\n                      <button\r\n                        onClick={() => {\r\n                          removeDateSpecificSlots(slot.date);\r\n                          addAuditLogEntry({\r\n                            timestamp: new Date().toISOString(),\r\n                            user: \"admin\",\r\n                            actionType: \"AVAILABILITY_CHANGED\",\r\n                            target: slot.date,\r\n                            after: \"Removed custom slots\",\r\n                            ipAddress: activeSessions[0]?.ip || \"unknown\",\r\n                            sessionToken: activeSessions[0]?.token || \"unknown\",\r\n                          });\r\n                          loadData();\r\n                        }}\r\n                        className=\"text-red-600 hover:text-red-700\"\r\n                      >\r\n                        <XCircle className=\"w-5 h-5\" />\r\n                      </button>\r\n                    </div>\r\n                  ))\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Working Hours */}\r\n            <div className=\"bg-white rounded-xl shadow-sm p-6\">\r\n              <h3 className=\"text-lg font-semibold mb-4\">Working Hours</h3>\r\n              <div className=\"space-y-3\">\r\n                {availability.workingHours.map((day, index) => (\r\n                  <div key={day.day} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                      <span className=\"w-24 font-medium\">\r\n                        {[\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"][day.day]}\r\n                      </span>\r\n                      <label className=\"flex items-center gap-2\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={day.isOpen}\r\n                          onChange={(e) => {\r\n                            const newHours = [...availability.workingHours];\r\n                            newHours[index].isOpen = e.target.checked;\r\n                            updateAvailabilitySettings({ ...availability, workingHours: newHours });\r\n                            loadData();\r\n                          }}\r\n                          className=\"rounded border-gray-300 text-pink-600 focus:ring-pink-500\"\r\n                        />\r\n                        <span className=\"text-sm\">Open</span>\r\n                      </label>\r\n                    </div>\r\n                    {day.isOpen && (\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <input\r\n                          type=\"time\"\r\n                          value={day.openTime}\r\n                          onChange={(e) => {\r\n                            const newHours = [...availability.workingHours];\r\n                            newHours[index].openTime = e.target.value;\r\n                            updateAvailabilitySettings({ ...availability, workingHours: newHours });\r\n                            loadData();\r\n                          }}\r\n                          className=\"text-sm border rounded px-2 py-1\"\r\n                        />\r\n                        <span className=\"text-gray-500\">to</span>\r\n                        <input\r\n                          type=\"time\"\r\n                          value={day.closeTime}\r\n                          onChange={(e) => {\r\n                            const newHours = [...availability.workingHours];\r\n                            newHours[index].closeTime = e.target.value;\r\n                            updateAvailabilitySettings({ ...availability, workingHours: newHours });\r\n                            loadData();\r\n                          }}\r\n                          className=\"text-sm border rounded px-2 py-1\"\r\n                        />\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Blocked Dates */}\r\n            <div className=\"bg-white rounded-xl shadow-sm p-6\">\r\n              <h3 className=\"text-lg font-semibold mb-4\">Blocked Dates</h3>\r\n              <div className=\"space-y-2\">\r\n                {availability.blockedDates.length === 0 ? (\r\n                  <p className=\"text-gray-500 text-sm\">No blocked dates</p>\r\n                ) : (\r\n                  availability.blockedDates.map((date) => (\r\n                    <div key={date} className=\"flex items-center justify-between p-3 bg-red-50 rounded-lg\">\r\n                      <span className=\"font-medium text-red-700\">{format(parseISO(date), \"EEEE, MMMM d, yyyy\")}</span>\r\n                      <button\r\n                        onClick={() => {\r\n                          const newBlocked = availability.blockedDates.filter((d) => d !== date);\r\n                          updateAvailabilitySettings({ ...availability, blockedDates: newBlocked });\r\n                          loadData();\r\n                        }}\r\n                        className=\"text-red-600 hover:text-red-700\"\r\n                      >\r\n                        <XCircle className=\"w-5 h-5\" />\r\n                      </button>\r\n                    </div>\r\n                  ))\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Block Specific Date */}\r\n            <div className=\"bg-white rounded-xl shadow-sm p-6\">\r\n              <h3 className=\"text-lg font-semibold mb-4\">Block Specific Date</h3>\r\n              <p className=\"text-sm text-gray-600 mb-4\">\r\n                Block a specific date to prevent any bookings on that day.\r\n              </p>\r\n              \r\n              <div className=\"bg-gray-50 rounded-lg p-4 mb-4\">\r\n                <div className=\"grid md:grid-cols-2 gap-4 mb-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium mb-2\">Select Date to Block</label>\r\n                    <input\r\n                      type=\"date\"\r\n                      value={blockDateInput}\r\n                      onChange={(e) => setBlockDateInput(e.target.value)}\r\n                      className=\"w-full border rounded-lg px-3 py-2\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium mb-2\">Note (optional)</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={blockDateNote}\r\n                      onChange={(e) => setBlockDateNote(e.target.value)}\r\n                      placeholder=\"e.g., Holiday, Staff day off\"\r\n                      className=\"w-full border rounded-lg px-3 py-2\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  onClick={() => {\r\n                    if (blockDateInput && !availability.blockedDates.includes(blockDateInput)) {\r\n                      const newBlocked = [...availability.blockedDates, blockDateInput];\r\n                      updateAvailabilitySettings({ ...availability, blockedDates: newBlocked });\r\n                      addAuditLogEntry({\r\n                        timestamp: new Date().toISOString(),\r\n                        user: \"admin\",\r\n                        actionType: \"AVAILABILITY_CHANGED\",\r\n                        target: blockDateInput,\r\n                        after: `Blocked: ${blockDateNote || \"No reason\"}`,\r\n                        ipAddress: activeSessions[0]?.ip || \"unknown\",\r\n                        sessionToken: activeSessions[0]?.token || \"unknown\",\r\n                      });\r\n                      loadData();\r\n                      setBlockDateInput(\"\");\r\n                      setBlockDateNote(\"\");\r\n                    }\r\n                  }}\r\n                  disabled={!blockDateInput || availability.blockedDates.includes(blockDateInput)}\r\n                  className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  Block Date\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Booking Settings */}\r\n            <div className=\"bg-white rounded-xl shadow-sm p-6\">\r\n              <h3 className=\"text-lg font-semibold mb-4\">Booking Settings</h3>\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2\">Lead Time (days)</label>\r\n                  <p className=\"text-xs text-gray-500 mb-2\">Minimum days in advance for bookings</p>\r\n                  <input\r\n                    type=\"number\"\r\n                    min={0}\r\n                    max={30}\r\n                    value={availability.leadTimeDays}\r\n                    onChange={(e) => {\r\n                      updateAvailabilitySettings({ ...availability, leadTimeDays: parseInt(e.target.value) || 0 });\r\n                      loadData();\r\n                    }}\r\n                    className=\"w-32 border rounded-lg px-3 py-2\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2\">Max Advance Booking (days)</label>\r\n                  <p className=\"text-xs text-gray-500 mb-2\">Maximum days in advance for bookings (0 = unlimited)</p>\r\n                  <input\r\n                    type=\"number\"\r\n                    min={0}\r\n                    max={365}\r\n                    value={availability.maxAdvanceBookingDays}\r\n                    onChange={(e) => {\r\n                      updateAvailabilitySettings({ ...availability, maxAdvanceBookingDays: parseInt(e.target.value) || 0 });\r\n                      loadData();\r\n                    }}\r\n                    className=\"w-32 border rounded-lg px-3 py-2\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2\">Max Bookings Per Slot</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min={1}\r\n                    max={10}\r\n                    value={availability.maxBookingsPerSlot}\r\n                    onChange={(e) => {\r\n                      updateAvailabilitySettings({\r\n                        ...availability,\r\n                        maxBookingsPerSlot: parseInt(e.target.value) || 1,\r\n                      });\r\n                      loadData();\r\n                    }}\r\n                    className=\"w-32 border rounded-lg px-3 py-2\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Security Tab */}\r\n        {activeTab === \"security\" && (\r\n          <div className=\"space-y-6\">\r\n            {/* Active Sessions */}\r\n            <div className=\"bg-white rounded-xl shadow-sm p-6\">\r\n              <h3 className=\"text-lg font-semibold mb-4\">Active Sessions</h3>\r\n              {activeSessions.length === 0 ? (\r\n                <p className=\"text-gray-500 text-sm\">No active sessions</p>\r\n              ) : (\r\n                <div className=\"space-y-2\">\r\n                  {activeSessions.map((session) => (\r\n                    <div key={session.token} className=\"flex items-center justify-between p-3 bg-green-50 rounded-lg\">\r\n                      <div>\r\n                        <p className=\"font-medium text-green-800\">Current Session</p>\r\n                        <p className=\"text-xs text-green-600\">IP: {session.ip}</p>\r\n                        <p className=\"text-xs text-green-600\">Started: {format(parseISO(session.startedAt), \"MMM d, h:mm a\")}</p>\r\n                      </div>\r\n                      <button\r\n                        onClick={() => {\r\n                          forceLogoutSession(session.token);\r\n                          handleLogout();\r\n                        }}\r\n                        className=\"px-3 py-1.5 bg-red-100 text-red-700 rounded-lg text-sm font-medium hover:bg-red-200\"\r\n                      >\r\n                        Force Logout\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Login Activity */}\r\n            <div className=\"bg-white rounded-xl shadow-sm p-6\">\r\n              <h3 className=\"text-lg font-semibold mb-4\">Recent Login Activity</h3>\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full\">\r\n                  <thead className=\"bg-gray-50\">\r\n                    <tr>\r\n                      <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500\">Time</th>\r\n                      <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500\">IP Address</th>\r\n                      <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500\">Status</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody className=\"divide-y divide-gray-100\">\r\n                    {loginActivity.slice(0, 10).map((attempt) => (\r\n                      <tr key={attempt.id}>\r\n                        <td className=\"px-4 py-2 text-sm\">{format(parseISO(attempt.timestamp), \"MMM d, h:mm a\")}</td>\r\n                        <td className=\"px-4 py-2 text-sm font-mono text-xs\">{attempt.ipAddress}</td>\r\n                        <td className=\"px-4 py-2\">\r\n                          {attempt.successful ? (\r\n                            <span className=\"inline-flex items-center gap-1 px-2 py-0.5 bg-green-100 text-green-700 rounded-full text-xs\">\r\n                              <CheckCircle className=\"w-3 h-3\" /> Success\r\n                            </span>\r\n                          ) : (\r\n                            <span className=\"inline-flex items-center gap-1 px-2 py-0.5 bg-red-100 text-red-700 rounded-full text-xs\">\r\n                              <XCircle className=\"w-3 h-3\" /> Failed\r\n                            </span>\r\n                          )}\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n                {loginActivity.length === 0 && <p className=\"text-gray-500 text-sm py-4\">No login activity recorded</p>}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Audit Log */}\r\n            <div className=\"bg-white rounded-xl shadow-sm p-6\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h3 className=\"text-lg font-semibold\">Audit Log</h3>\r\n                <button\r\n                  onClick={exportAuditLogs}\r\n                  className=\"flex items-center gap-2 px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-sm hover:bg-gray-200\"\r\n                >\r\n                  <Download className=\"w-4 h-4\" />\r\n                  Export CSV\r\n                </button>\r\n              </div>\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full\">\r\n                  <thead className=\"bg-gray-50\">\r\n                    <tr>\r\n                      <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500\">Time</th>\r\n                      <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500\">Action</th>\r\n                      <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500\">Target</th>\r\n                      <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500\">Details</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody className=\"divide-y divide-gray-100\">\r\n                    {auditLogs.slice(0, 20).map((log) => (\r\n                      <tr key={log.id}>\r\n                        <td className=\"px-4 py-2 text-xs\">{format(parseISO(log.timestamp), \"MMM d, h:mm a\")}</td>\r\n                        <td className=\"px-4 py-2\">\r\n                          <span className=\"inline-flex items-center px-2 py-0.5 bg-blue-50 text-blue-700 rounded text-xs font-medium\">\r\n                            {log.actionType}\r\n                          </span>\r\n                        </td>\r\n                        <td className=\"px-4 py-2 text-sm\">{log.target}</td>\r\n                        <td className=\"px-4 py-2 text-xs text-gray-600\">\r\n                          {log.before && log.after && (\r\n                            <span>\r\n                              {log.before} â†’ {log.after}\r\n                            </span>\r\n                          )}\r\n                          {log.reason && <span className=\"ml-2 text-gray-500\">({log.reason})</span>}\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n                {auditLogs.length === 0 && <p className=\"text-gray-500 text-sm py-4\">No audit entries</p>}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </main>\r\n\r\n      {/* Reschedule Modal */}\r\n      {rescheduleBookingData && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-xl p-6 w-full max-w-md\">\r\n            <h3 className=\"text-lg font-semibold mb-4\">Reschedule Booking</h3>\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-600 mb-1\">Current:</p>\r\n                <p className=\"font-medium\">\r\n                  {format(parseISO(rescheduleBookingData.date), \"MMM d, yyyy\")} at {rescheduleBookingData.timeSlot}\r\n                </p>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2\">New Date</label>\r\n                <input type=\"date\" value={newDate} onChange={(e) => setNewDate(e.target.value)} className=\"w-full border rounded-lg px-3 py-2\" />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2\">New Time</label>\r\n                <input type=\"time\" value={newTime} onChange={(e) => setNewTime(e.target.value)} className=\"w-full border rounded-lg px-3 py-2\" />\r\n              </div>\r\n              <div className=\"flex gap-3 pt-2\">\r\n                <button\r\n                  onClick={() => {\r\n                    setRescheduleBookingData(null);\r\n                    setNewDate(\"\");\r\n                    setNewTime(\"\");\r\n                  }}\r\n                  className=\"flex-1 py-2 border border-gray-300 rounded-lg hover:bg-gray-50\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button onClick={handleReschedule} className=\"flex-1 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700\">\r\n                  Reschedule\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}